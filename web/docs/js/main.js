const i=document.querySelector(".js-card"),v=document.querySelector(".js-cardName"),L=document.querySelector(".js-cardJob"),b=document.querySelector(".js-profileImage"),k=document.querySelector(".js-mobileLink"),j=document.querySelector(".js-mailLink"),c=document.querySelector(".js-linkedinLink"),d=document.querySelector(".js-githubLink"),D=document.querySelector(".js-cardReset"),S=document.querySelector(".js_palette1"),F=document.querySelector(".js_palette2"),_=document.querySelector(".js_palette3"),A=document.querySelector(".formDesign"),E=document.querySelector(".js-formContainer"),h=document.querySelector(".js_inputName"),f=document.querySelector(".js_inputJob"),w=document.querySelector(".js_miniPreview"),g=document.querySelector(".js_inputPhone"),y=document.querySelector(".js_inputEmail"),p=document.querySelector(".js_inputLinkedin"),m=document.querySelector(".js_inputGithub");document.querySelector(".formStyle");const q=document.querySelector(".js-size"),H=document.querySelector(".js-generateLink"),a=document.querySelector(".js-createBtn"),M=document.querySelector(".js-linkCard"),I=document.querySelector(".js-errorMsg"),T=document.querySelector(".js-twitter"),N=document.querySelectorAll(".js-fieldset"),O=document.querySelectorAll(".js-options");document.querySelector(".js-fill");document.querySelector(".js-design");document.querySelector(".js-share");const o=JSON.parse(localStorage.getItem("data")),n={palette:1,name:"",job:"",phone:"",email:"",linkedin:"",github:"",photo:""},s={name:"Nombre Apellido",job:"Front-end developer",phone:"",email:"",linkedin:"",github:"",photo:"url(./images/ImageBackground.jpg)",photoDiv:""},G={palette:1,name:"",job:"",phone:"",email:"",linkedin:"",github:"",photo:""},J=()=>{const e=m.value;e.includes("@")?d.href="https://github.com/"+e.replace(/@/,""):d.href="https://github.com/"+e},R=()=>{const e=p.value;e.includes("https://www.linkedin.com/in/")?c.href=e:e.includes("linkedin.com/in/")?c.href="https://www."+e:c.href=e};function P(e){const t=e.target.id,l=e.target.value;if(t==="name")n.name=l,v.innerHTML=h.value,console.log(n.name);else if(t==="job")n.job=l,L.innerHTML=f.value;else if(t==="phone")n.phone=l,k.href="tel:"+g.value;else if(t==="email")n.email=l,j.href="mailto:"+y.value;else if(t==="linkedin"){const r=l;r.includes("https://www.linkedin.com/in/")?n.linkedin=r.replace("https://www.linkedin.com/in/",""):r.includes("linkedin.com/in/")?n.linkedin=r.replace("linkedin.com/in/",""):n.linkedin=p.value,R()}else if(t==="github"){const r=l;r.includes("@")?n.github=r.replace(/@/,""):n.github=m.value,J()}else t==="photo"&&n.photo;console.log(n),localStorage.setItem("data",JSON.stringify(n))}const U=e=>{const t=parseInt(e.target.value);i.classList.remove("palette1","palette2","palette3"),S.checked===!0?i.classList.add("palette1"):F.checked===!0?i.classList.add("palette2"):i.classList.add("palette3"),n.palette=t};E.addEventListener("input",P);A.addEventListener("input",U);const z=()=>{H.style.display="flex",a.classList.add("btnGrey")},C=e=>{fetch("https://awesome-profile-cards.vercel.app/createCard.html/createCard",{method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json"}}).then(t=>t.json()).then(t=>{z(),$(t)}).catch(t=>console.log(t))},B=e=>{e.preventDefault(),C(o||n)};a.addEventListener("click",B);const $=e=>{e.success?(M.href=e.cardURL,M.innerHTML=e.cardURL,T.style.display="flex",T.href="https://twitter.com/intent/tweet?text=%C2%A1Creado%20con%20Bcards!%20(crea%20la%20tuya%20en%20http%3A%2F%2Fmbueno992.github.io%2Fproject-promo-v-module-2-team-2%2F)%20Ver%20tarjeta%3A&url="+e.cardURL,a.disabled=!0,I.innerHTML="La tarjeta ha sido creada: "):(I.innerHTML="Error: revisa los datos introducidos y haz click de nuevo en Crear Tarjeta",a.disabled=!1,a.classList.remove("btnGrey"))},x=e=>{i.classList.remove("palette1","palette2","palette3"),e.palette==="1"?(S.checked=!0,i.classList.add("palette1")):e.palette==="2"?(F.checked=!0,i.classList.add("palette2")):e.palette==="3"&&(_.checked=!0,i.classList.add("palette3"))};function V(){o&&(h.value=o.name,f.value=o.job,g.value=o.phone,y.value=o.email,p.value=o.linkedin,m.value=o.github,v.innerHTML=h.value,L.innerHTML=f.value,k.href=g.value,j.href=y.value,c.href="http://www.linkedin.com/in/"+p.value,d.href="https://www.github.com/"+m.value,x(o),b.style.backgroundImage=`url(${o.photo})`,w.style.backgroundImage=`url(${o.photo})`)}V();const u=new FileReader,K=document.querySelector(".js__profile-upload-btn");function Q(e){const t=e.currentTarget.files[0];t.size>51200?q.innerHTML="La imagen no puede superar los 50KB":(q.innerHTML="",u.addEventListener("load",W),u.readAsDataURL(t))}function W(){b.style.backgroundImage=`url(${u.result})`,w.style.backgroundImage=`url(${u.result})`,n.photo=u.result}K.addEventListener("change",Q);const X=e=>{Object.assign(e,G)},Y=()=>{i.classList.remove("palette2","palette3")},Z=e=>{v.innerHTML=s.name,L.innerHTML=s.job,k.href=s.phone,j.href=s.email,c.href=s.linkedin,d.href=s.github,b.style.backgroundImage=s.photo,w.style.backgroundImage=s.photoDiv,localStorage.removeItem("data")},ee=()=>{const e=Array.from(document.querySelectorAll(".js-input"));for(let t=0;t<e.length;t++)e[t].value="";S.checked=!0},te=()=>{X(n),Y(),Z(),ee(),H.style.display="none",a.classList.remove("btnGrey")};D.addEventListener("click",te);const ne=e=>{const l=e.currentTarget.parentNode;for(const r of N)l===r?r.classList.remove("hidden"):r.classList.add("hidden")};O.forEach(e=>{e.addEventListener("click",ne)});
//# sourceMappingURL=main.js.map
